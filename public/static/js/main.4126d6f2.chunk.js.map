{"version":3,"sources":["sample-files/DemoPDF.pdf","Context.js","Components/Landing/Landing.js","Components/Firebase/context.js","Components/Firebase/firebase.js","Components/Firebase/index.js","Components/FavoriteIcon/FavoriteIcon.js","Components/PatternCard/PatternCard.js","Components/Main/Main.js","Components/PatternDetail/PatternDetail.js","Components/SignUp/index.js","constants/roles.js","constants/routes.js","Components/PasswordForget/index.js","Components/Signin/index.js","Components/PatternDirections/PatternDirections.js","Components/Comment/Comment.js","Components/PatternPanel/PatternPanel.js","Components/CommentPanel/CommentPanel.js","Components/Header/Header.js","Components/PatternCard/PatternCardEdit.js","Components/PasswordChange/index.js","Components/AddPattern/AddPattern.js","Components/PatternCard/PatternCardFavs.js","Components/PatternCard/PatternCardContributed.js","Components/Account/Account.js","Components/Utils/Utils.js","Components/NotFoundPage/NotFoundPage.js","Components/PatternEdit/PatternEdit.js","Components/Session/context.js","Components/Session/withAuthentication.js","Components/Session/WithAuthorization.js","Components/Admin/index.js","Components/SignOut/index.js","Components/Navigation/index.js","Components/App/App.js","index.js","data.js","../node_modules/pdfjs-dist/build sync","Assets/SVG/placeholder-img.svg","Assets/SVG/unfav.svg","Assets/SVG/fav.svg"],"names":["module","exports","TwistedContext","React","createContext","history","LandingPage","className","onClick","context","push","Component","contextType","Context","FirebaseContext","withFirebase","props","Consumer","firebase","config","apiKey","process","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","Firebase","doCreateUserWithEmailAndPassword","email","password","auth","createUserWithEmailAndPassword","doSignInWithEmailAndPassword","signInWithEmailAndPassword","doSignOut","signOut","doPasswordReset","sendPasswordResetEmail","doPasswordUpdate","currentUser","updatePassword","onAuthUserListener","next","fallback","onAuthStateChanged","authUser","user","uid","once","then","snapshot","dbUser","val","roles","db","ref","users","pattern","patterns","image","storage","images","file","files","app","initializeApp","this","database","FavoriteIcon","handleFavClick","fav","state","setState","console","log","favCount","src","require","alt","PatternCard","handleGetPatternArray","on","patternListArray","Object","values","dataLoaded","handleCardRender","map","patternObjects","handleGetContributorName","contributor_name","contributor_user_id","pattern_id","pattern_name","thumbnail_image_file_URL","componentDidMount","Home","Collapsible","togglePanel","e","open","craft","yarn_weight","needle_size","description","INTIAL_STATE","username","passwordOne","passwordTwo","isAdmin","error","SignUpFormBase","onSubmit","event","preventDefault","set","catch","onChange","target","name","value","onChangeCheckbox","checked","isInvalid","type","placeholder","disabled","message","SignUpLink","to","SignUpForm","compose","withRouter","SignUpPage","INITIAL_STATE","PasswordForgetFormBase","PasswordForgetLink","PasswordForgetPage","PasswordForgetForm","SignInFormBase","location","pathname","includes","SignInForm","SignInPage","pdfjs","GlobalWorkerOptions","workerSrc","version","PatternDirections","onDocumentLoadSuccess","numPages","pageNumber","listener","href","pdf_file_URL","rel","onLoadSuccess","Comment","handleSubmit","commentPattern","commentAuthorName","commentText","for","rows","cols","id","commentAuthor","PatternPanel","handleGetPatternData","match","params","patternData","patternDataReturn","author_name","image_file_URL","Header","handleLogoutClick","handleAddClick","cards","contributor","PasswordChangeForm","newPattern","AddPattern","setContributorUserId","handleChange","key","handleImageChange","image_file","image_file_name","handleFileChange","pdf_file","pdf_file_name","checkUploadPdf","handleUploadPdf","metadata","child","put","getDownloadURL","fireBaseUrl","checkUploadImage","handleSetThumbnail","fileName","slice","fileExt","thumbnail_image_file_name","createNewPattern","handleUploadImage","response","update","htmlFor","required","PatternCardFavs","PatternCardContributed","Account","PatternCardEdit","PasswordChange","Section","list","classes","filter","Boolean","join","NotFoundPage","PatternEdit","AuthUserContext","withAuthentication","WithAuthentication","Provider","withAuthorization","condition","WithAuthorization","AdminPage","loading","usersObject","usersList","keys","off","UserList","NavigationAuth","ROUTES","SignOut","NavigationNonAuth","Navigation","App","contextValue","exact","path","component","ReactDOM","render","document","getElementById","admin","followers","user_id","following","comments","author","contributions","favorites","favorited_by","purchases","date","method","pdf_file_link","price","webpackEmptyContext","req","Error","code","resolve"],"mappings":"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","file":"static/js/main.4126d6f2.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/DemoPDF.f5e0f17a.pdf\";","import React from 'react'\r\n\r\nconst TwistedContext = React.createContext({\r\n      history: {},\r\n      \r\n  })\r\n  \r\n  export default TwistedContext;","import React, { Component } from 'react';\r\nimport Context from '../../Context'\r\n\r\n\r\nclass LandingPage extends Component {\r\n  static contextType = Context;\r\n\r\n  render() {\r\n    return (\r\n      <section className=\"landing\">\r\n        <div className=\"flex-container bkg-color-wt landing\">\r\n          <div className=\"landing-text landing-wrap\">\r\n            <h2 className=\"welcome align-center color-p\">Welcome!</h2>\r\n        Twisted is a web application designed to enable yarn lovers to collect, save and explore patterns.\r\n        </div>\r\n        </div>\r\n        <button className=\"start-btn\" onClick={() => { this.context.history.push('/home') }}>Get Started</button>\r\n      </section>\r\n    );\r\n  }\r\n}\r\n\r\nexport default LandingPage;","import React from 'react';\r\n\r\nconst FirebaseContext = React.createContext(null);\r\n\r\nexport const withFirebase = Component => props => (\r\n  <FirebaseContext.Consumer>\r\n    {firebase => <Component {...props} firebase={firebase} />}\r\n  </FirebaseContext.Consumer>\r\n);\r\n\r\nexport default FirebaseContext;","import app from 'firebase/app';\r\nimport 'firebase/auth';\r\nimport 'firebase/database';\r\nimport 'firebase/storage';\r\n\r\nconst config = {\r\n    apiKey: process.env.REACT_APP_API_KEY,\r\n    authDomain: process.env.REACT_APP_AUTH_DOMAIN,\r\n    databaseURL: process.env.REACT_APP_DATABASE_URL,\r\n    projectId: process.env.REACT_APP_PROJECT_ID,\r\n    storageBucket: process.env.REACT_APP_STORAGE_BUCKET,\r\n    messagingSenderId: process.env.REACT_APP_MESSAGING_SENDER_ID,\r\n    appId: process.env.REACT_APP_APP_ID,\r\n    measurementId: process.env.REACT_APP_MEASUREMENT_ID\r\n  };\r\n\r\n  \r\n\r\n\r\n  class Firebase{\r\n      constructor(){\r\n          app.initializeApp(config);\r\n          this.auth = app.auth();\r\n          this.db = app.database();\r\n          this.storage = app.storage();\r\n  \r\n      }\r\n\r\n    \r\n    //Auth API\r\n\r\n    doCreateUserWithEmailAndPassword = (email, password) => this.auth.createUserWithEmailAndPassword(email, password);\r\n    doSignInWithEmailAndPassword = (email, password) => this.auth.signInWithEmailAndPassword(email, password);\r\n    doSignOut = () => this.auth.signOut();\r\n    doPasswordReset = email => this.auth.sendPasswordResetEmail(email);\r\n    doPasswordUpdate = password => this.auth.currentUser.updatePassword(password);\r\n\r\n    // *** Merge Auth and DB User API *** //\r\n\r\n  onAuthUserListener = (next, fallback) =>\r\n  this.auth.onAuthStateChanged(authUser => {\r\n    if (authUser) {\r\n      this.user(authUser.uid)\r\n        .once('value')\r\n        .then(snapshot => {\r\n          const dbUser = snapshot.val();\r\n\r\n          // default empty roles\r\n          if (!dbUser.roles) {\r\n            dbUser.roles = {};\r\n          }\r\n\r\n          // merge auth and db user\r\n          authUser = {\r\n            uid: authUser.uid,\r\n            email: authUser.email,\r\n            ...dbUser,\r\n          };\r\n\r\n          next(authUser);\r\n        });\r\n    } else {\r\n      fallback();\r\n    }\r\n  });\r\n\r\n\r\n // *** User API ***\r\n \r\n    user = uid => this.db.ref(`users/${uid}`);\r\n    users = () => this.db.ref('users');\r\n\r\n// *** Pattern API ***\r\n\r\n    pattern = uid => this.db.ref(`/patterns/${uid}`);\r\n    patterns = () => this.db.ref('/patterns');\r\n\r\n// *** Images API ***\r\n\r\n    image = uid => this.storage.ref(`images/${uid}`);\r\n    images = () => this.storage.ref('images');\r\n\r\n// *** PDF Files API ***\r\n\r\n    file = uid => this.storage.ref(`file/${uid}`);\r\n    files = () => this.storage.ref('files');\r\n\r\n};\r\n\r\n\r\nexport default Firebase; ","import FirebaseContext, { withFirebase } from './context';\r\nimport Firebase from './firebase';\r\n \r\nexport default Firebase;\r\n \r\nexport { FirebaseContext, withFirebase };","import React, { Component} from 'react';\r\n\r\nclass FavoriteIcon extends Component {\r\n\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n        fav: false,\r\n        favCount: null\r\n        }\r\n    }\r\n\r\n    //get favCount from database -- if onclick this.state.fav = true - increment by 1 if false -- 1\r\n\r\n\r\n    handleFavClick = () => {\r\n        let fav = this.state.fav\r\n        this.setState({fav: !fav})\r\n        console.log(this.state.fav)\r\n    }\r\n\r\n    render(){\r\n    return (\r\n      <div className=\"fav-icon\" onClick={() => {this.handleFavClick()}}>\r\n        {this.state.fav === false ? <img src={require('../../Assets/SVG/unfav.svg')} alt=\"favorite-icon\" /> : <img src={require('../../Assets/SVG/fav.svg')} alt=\"favorite-icon\" /> }\r\n      </div>\r\n    )\r\n  }\r\n}\r\nexport default FavoriteIcon;","import React, { Component } from 'react';\r\nimport Context from '../../Context';\r\nimport { withFirebase } from '../Firebase';\r\nimport FavoriteIcon from '../FavoriteIcon/FavoriteIcon';\r\n\r\nclass PatternCard extends Component {\r\n    static contextType = Context;\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            patternListArray: null\r\n        }\r\n    }\r\n\r\n\r\n\r\n    handleGetPatternArray = () => {\r\n        this.props.firebase.patterns().on(\"value\", (snapshot) => {\r\n            let patternListArray = Object.values(snapshot.val())\r\n            this.setState({ patternListArray: patternListArray })\r\n            this.setState({dataLoaded: true})\r\n        })\r\n    }\r\n\r\n    handleCardRender = () => {\r\n        if (this.state.patternListArray) {\r\n\r\n           let patterns = this.state.patternListArray.map(patternObjects => {\r\n              let pattern = patternObjects   \r\n\r\n              this.handleGetContributorName = () => {\r\n                if (this.state.contributor_name){\r\n                  return;\r\n                }\r\n                this.props.firebase.db.ref('users/' + pattern.contributor_user_id + '/username').once(\"value\", (snapshot) => {\r\n                  let contributor_name = (snapshot.val())\r\n                  this.setState({contributor_name: contributor_name})\r\n                })\r\n              }\r\n              this.handleGetContributorName();\r\n              \r\n              return (\r\n                    <div className=\"flex-item\">\r\n                        <div  onClick={() => { this.context.history.push(`/patterns/${pattern.pattern_id}`) }}>\r\n                            {pattern.pattern_name}\r\n                        <img src={pattern.thumbnail_image_file_URL} alt=\"placeholder\" />\r\n                        <div>{this.state.contributor_name}</div>\r\n                        </div>\r\n                        <FavoriteIcon />\r\n                    </div>\r\n                )\r\n              })\r\n            return patterns\r\n            }\r\n        }\r\n    \r\n    componentDidMount = () => {\r\n        this.handleGetPatternArray();\r\n    }\r\n\r\n\r\n\r\n    render() {\r\n        return (\r\n            <section className='PatternCard flex-container'>\r\n                <div className=\"flex-container\">\r\n                    {this.handleCardRender()}\r\n                </div>\r\n            </section>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nexport default withFirebase(PatternCard);","import React, { Component } from 'react';\r\n//import Context from '../../Context';\r\nimport PatternCard from '../PatternCard/PatternCard'\r\n\r\nclass Home extends Component {\r\n   // static contextType = Context;\r\n\r\n    // handleAddClick = (location) => {\r\n    //     this.context.history.push(`/${location}/add`)\r\n    // }\r\n\r\n\r\n    render() {\r\n        return (\r\n            <section className='home'>\r\n                <div className=\"container\">\r\n                  <h1> Pattern Cards will be below  </h1>\r\n                  <PatternCard />\r\n                </div>\r\n            </section>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nexport default Home;","import React, { Component } from 'react';\r\n\r\nexport default class Collapsible extends Component{\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n        open: false\r\n        }\r\n    }\r\n\r\n    togglePanel = (e) => {\r\n    this.setState({open: !this.state.open})\r\n    }\r\n\r\n    render() {\r\n        let pattern = this.props.pattern\r\n        return (\r\n            <div className=\"coll-div\">\r\n                <div className=\"collapsible-header\" onClick ={((e) =>{this.togglePanel(e)})}>Pattern Details</div>\r\n                {this.state.open ? (<><ul>\r\n                    <li>Craft: {pattern.craft}</li>\r\n                    <li>Yarn Weight: {pattern.yarn_weight}</li>\r\n                    <li>Needle Size:{pattern.needle_size}</li>\r\n                    <li>Description:{pattern.description}</li>\r\n                  </ul></>) : null}\r\n            </div>\r\n        );\r\n    }\r\n\r\n}","import React, { Component } from 'react';\r\nimport { Link, withRouter } from 'react-router-dom';\r\nimport { withFirebase } from '../Firebase'\r\nimport * as ROUTES from '../../constants/routes';\r\nimport { compose } from 'recompose';\r\nimport * as ROLES from '../../constants/roles';\r\n\r\nconst SignUpPage = () => (\r\n    <div>\r\n        <h1>SignUp</h1>\r\n        <SignUpForm /> \r\n    </div>\r\n);\r\n\r\nconst INTIAL_STATE = {\r\n    username: '',\r\n    email: '',\r\n    passwordOne: '',\r\n    passwordTwo: '', \r\n    isAdmin: false,\r\n    error: null, \r\n};\r\n\r\nclass SignUpFormBase extends Component{\r\n    constructor(props){\r\n        super(props);\r\n\r\n        this.state = {\r\n            ...INTIAL_STATE\r\n        };\r\n    }\r\n\r\n    \r\n\r\n    onSubmit = event => {\r\n        event.preventDefault();\r\n        const { username, email, passwordOne, isAdmin } = this.state;\r\n        const roles = {};\r\n        if (isAdmin) {\r\n          roles[ROLES.ADMIN] = ROLES.ADMIN;\r\n        }\r\n    \r\n\r\n        this.props.firebase.doCreateUserWithEmailAndPassword(email, passwordOne)\r\n        .then(authUser => {\r\n            // Create a user in your Firebase realtime database\r\n            return this.props.firebase\r\n              .user(authUser.user.uid)\r\n              .set({\r\n                username,\r\n                email,\r\n                roles,\r\n              });\r\n          })\r\n        \r\n        .then(authUser => {\r\n            this.setState({...INTIAL_STATE});\r\n            this.props.history.push(ROUTES.Home);\r\n        })\r\n        .catch(error => {\r\n            this.setState({ error })\r\n        });\r\n    }\r\n\r\n    onChange = event => {\r\n        this.setState({[event.target.name]: event.target.value});\r\n    };\r\n\r\n    onChangeCheckbox = event => {\r\n        this.setState({ [event.target.name]: event.target.checked });\r\n      };\r\n\r\n    render(){\r\n      const {\r\n          username, \r\n          email, \r\n          passwordOne,\r\n          passwordTwo,\r\n          isAdmin,\r\n          error,\r\n      } = this.state;\r\n      const isInvalid = passwordOne !== passwordTwo || passwordOne === ' ' || username === ' '; \r\n\r\n        return(\r\n            <form onSubmit = {this.onSubmit}>\r\n                <input name=\"username\" value= {username} onChange = {this.onChange} type = \"text\" placeholder= \"Full Name\" />\r\n                <input name=\"email\" value= {email} onChange = {this.onChange} type = \"text\" placeholder= \"Email Address\" />\r\n                <input name=\"passwordOne\" value= {passwordOne} onChange = {this.onChange} type = \"password\" placeholder= \"Password\" />\r\n                <input name=\"passwordTwo\" value= {passwordTwo} onChange = {this.onChange} type = \"password\" placeholder= \"Confirm Password\" />\r\n                <label>\r\n                Admin:\r\n                <input\r\n                    name=\"isAdmin\"\r\n                    type=\"checkbox\"\r\n                    checked={isAdmin}\r\n                    onChange={this.onChangeCheckbox}\r\n                />\r\n                </label>\r\n                <button disabled = {isInvalid} type=\"submit\">Sign Up</button>\r\n                {error && <p>{error.message}</p>}\r\n            </form>\r\n        );\r\n    }\r\n};\r\n\r\nconst SignUpLink = () => (\r\n    <p>\r\n        Don't have an account? <Link to = {ROUTES.Sign_Up}>Sign Up</Link>\r\n    </p>\r\n);\r\n\r\nconst SignUpForm = compose(\r\n    withRouter,\r\n    withFirebase,\r\n  )(SignUpFormBase);\r\n\r\nexport default SignUpPage;\r\nexport { SignUpForm, SignUpLink};","export const ADMIN = 'ADMIN';\r\nexport const CONTRIBUTOR = 'CONTRIBUTOR';","export const Landing = '/'; \r\nexport const Sign_Up = '/signup';\r\nexport const Sign_In = '/signin';\r\nexport const Home = '/home';\r\nexport const Account = '/account';\r\nexport const Admin = '/admin';\r\nexport const Password_Forget = '/pw-forget';\r\n\r\n","import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom'; \r\nimport { withFirebase } from '../Firebase';\r\nimport * as ROUTES from '../../constants/routes';\r\n \r\nconst PasswordForgetPage = () => (\r\n  <div>\r\n    <h1>PasswordForget</h1>\r\n    <PasswordForgetForm />\r\n  </div>\r\n);\r\n \r\nconst INITIAL_STATE = {\r\n  email: '',\r\n  error: null,\r\n};\r\n \r\nclass PasswordForgetFormBase extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n \r\n    this.state = { ...INITIAL_STATE };\r\n  }\r\n \r\n  onSubmit = event => {\r\n    const { email } = this.state;\r\n \r\n    this.props.firebase\r\n      .doPasswordReset(email)\r\n      .then(() => {\r\n        this.setState({ ...INITIAL_STATE });\r\n      })\r\n      .catch(error => {\r\n        this.setState({ error });\r\n      });\r\n \r\n    event.preventDefault();\r\n  };\r\n \r\n  onChange = event => {\r\n    this.setState({ [event.target.name]: event.target.value });\r\n  };\r\n \r\n  render() {\r\n    const { email, error } = this.state;\r\n \r\n    const isInvalid = email === '';\r\n \r\n    return (\r\n      <form onSubmit={this.onSubmit}>\r\n        <input\r\n          name=\"email\"\r\n          value={this.state.email}\r\n          onChange={this.onChange}\r\n          type=\"text\"\r\n          placeholder=\"Email Address\"\r\n        />\r\n        <button disabled={isInvalid} type=\"submit\">\r\n          Reset My Password\r\n        </button>\r\n \r\n        {error && <p>{error.message}</p>}\r\n      </form>\r\n    );\r\n  }\r\n}\r\n \r\nconst PasswordForgetLink = () => (\r\n  <p>\r\n    <Link to={ROUTES.Password_Forget}>Forgot Password?</Link>\r\n  </p>\r\n);\r\n \r\nexport default PasswordForgetPage;\r\n \r\nconst PasswordForgetForm = withFirebase(PasswordForgetFormBase);\r\n \r\nexport { PasswordForgetForm, PasswordForgetLink };","import React, { Component } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { compose } from 'recompose';\r\nimport { SignUpLink } from '../SignUp';\r\nimport { withFirebase } from '../Firebase';\r\nimport * as ROUTES from '../../constants/routes';\r\nimport { PasswordForgetLink } from '../PasswordForget';\r\n\r\nconst SignInPage = () => (\r\n    <div>\r\n        <h1>SignIn</h1>\r\n    <SignInForm />\r\n    <PasswordForgetLink />\r\n    <SignUpLink />\r\n\r\n    </div>\r\n);\r\n\r\nconst INITIAL_STATE = {\r\n    email: '',\r\n    password: '',\r\n    error: null,\r\n};\r\n\r\nclass SignInFormBase extends Component{\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {...INITIAL_STATE};\r\n    }\r\n\r\n    onSubmit = event => {\r\n        event.preventDefault();\r\n        const { email, password } = this.state;\r\n        this.props.firebase.doSignInWithEmailAndPassword(email, password)\r\n        .then(() => {\r\n            this.setState({...INITIAL_STATE});\r\n            if (!this.props.location.pathname.includes('/pattern')){\r\n            this.props.history.push(ROUTES.Home);  \r\n            }\r\n        })\r\n        .catch(error => {\r\n            this.setState({ error });\r\n        });\r\n    }\r\n\r\n    onChange = event => {\r\n        this.setState({[event.target.name]: event.target.value });\r\n    };\r\n\r\n    render(){\r\n        const { email, password, error } = this.state;\r\n        const isInvalid = password === '' || email === '';\r\n\r\n        return (\r\n            <form onSubmit = {this.onSubmit} >\r\n                <input name=\"email\" value={email} onChange={this.onChange} type=\"text\" placeholder=\"Email Address\" />\r\n                <input name=\"password\" value={password} onChange={this.onChange} type=\"password\" placeholder=\"Password\"/>\r\n                <button disabled = {isInvalid} type=\"submit\">Sign In</button>              \r\n                {error && <p>{error.message}</p>}  \r\n            </form>\r\n        )\r\n    }\r\n\r\n\r\n}\r\n\r\nconst  SignInForm = compose(\r\n        withRouter,\r\n        withFirebase, \r\n      )(SignInFormBase);\r\nexport default SignInPage;\r\nexport { SignInForm };\r\n\r\n","import React, { Component } from 'react';\r\nimport { Document, Page } from 'react-pdf';\r\nimport { pdfjs } from 'react-pdf';\r\nimport { withFirebase } from '../Firebase';\r\nimport SignIn from '../Signin'; \r\nimport DemoPDF from '../../sample-files/DemoPDF.pdf'\r\npdfjs.GlobalWorkerOptions.workerSrc = `//cdnjs.cloudflare.com/ajax/libs/pdf.js/${pdfjs.version}/pdf.worker.js`;\r\n\r\n\r\nclass PatternDirections extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            open: false,\r\n            numPages: null,\r\n            pageNumber: 1,\r\n        }\r\n    }\r\n\r\n    onDocumentLoadSuccess = ({ numPages }) => {\r\n        this.setState({ numPages });\r\n    }\r\n\r\n    togglePanel = (e) => {\r\n        this.setState({ open: !this.state.open })\r\n    }\r\n\r\n    componentDidMount(){\r\n        this.listener = this.props.firebase.auth.onAuthStateChanged(\r\n            authUser => {\r\n                authUser ?  this.setState({authUser}): this.setState({authUser:null});\r\n            },\r\n        );\r\n    }\r\n\r\n    componentWillUnmount(){\r\n        this.listener();\r\n    }\r\n\r\n    render() {\r\n        const { pageNumber, numPages } = this.state;\r\n        let pattern = this.props.pattern\r\n        return (\r\n            <div className=\"coll-div\">\r\n                <div className=\"collapsible-header\" onClick={((e) => { this.togglePanel(e) })}>Pattern Instructions</div>                \r\n                {this.state.open && this.state.authUser ? (\r\n                    <>\r\n                        <div>Click the link to print or save the pattern directions</div>\r\n                        <a href={`${pattern.pdf_file_URL}`} target=\"_blank\" rel=\"noopener noreferrer\">Open, Print, or Download File</a>\r\n                        <div>\r\n                            <Document\r\n                                file={pattern.pdf_file_URL}\r\n                                onLoadSuccess={this.onDocumentLoadSuccess}\r\n                            >\r\n                                <Page pageNumber={pageNumber} />\r\n                            </Document>\r\n                            <p className=\"pdf-pg\">Page {pageNumber} of {numPages}</p>\r\n                        </div>\r\n                    </>) : this.state.open && !this.state.authUser ? \r\n                    <>\r\n                    <div>\r\n                    You must be logged in to view the pattern directions.\r\n                    Please sign in!\r\n                    <SignIn />\r\n                    </div>\r\n                    </>\r\n                    : null}\r\n            </div>\r\n        );\r\n    }\r\n\r\n}\r\n\r\nexport default withFirebase(PatternDirections);","import React, { Component} from 'react';\r\n\r\nclass Comment extends Component {\r\n\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            commentPattern: \"patternId\", //pattern id,\r\n            commentAuthorName: \"Name1\", //user id \r\n            commentText: \"sample comment here\", //the comment created by the user\r\n        }\r\n    }\r\n    \r\n    handleSubmit = (event) => {\r\n        event.preventDefault();\r\n        console.log(event.value);\r\n    }\r\n\r\n\r\n    render(){\r\n    return (\r\n        <>\r\n        <div className=\"comment-form\">\r\n        <form onSubmit={() => this.handleSubmit()}>\r\n        <label for=\"comment\">New Comment:</label>\r\n        <textarea rows=\"4\" cols=\"40\" id=\"comment\" name=\"comment\"/>\r\n        <button type=\"submit\">Post Comment</button>\r\n        </form>\r\n        </div>\r\n      <div className=\"comment\">\r\n\r\n        {this.state.commentText}\r\n        {this.state.commentAuthor}     \r\n     </div>\r\n     </>\r\n    )\r\n  }\r\n}\r\nexport default Comment;","import React, { Component } from 'react';\r\nimport PatternDetail from '../PatternDetail/PatternDetail';\r\nimport PatternDirections from '../PatternDirections/PatternDirections';\r\nimport FavoriteIcon from '../FavoriteIcon/FavoriteIcon';\r\nimport CommentPanel from '../CommentPanel/CommentPanel';\r\nimport { withFirebase } from '../Firebase';\r\nimport Context from '../../Context';\r\n\r\n\r\nclass PatternPanel extends Component {\r\n  static contextType = Context;\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      patternData: null\r\n    }\r\n  }\r\n\r\n  handleGetPatternData = () => {\r\n    this.props.firebase.db.ref(`/patterns/${this.props.match.params.uid}`).once(\"value\", (snapshot) => {\r\n      let patternData = (snapshot.val())\r\n      this.setState({ patternData: patternData })\r\n      this.setState({dataLoaded: true})\r\n      this.handleGetContributorName();\r\n    })\r\n  }\r\n\r\n  handleGetContributorName = () => {\r\n    if (!this.state.dataLoaded){\r\n      return;\r\n    }\r\n    this.props.firebase.db.ref('users/' + this.state.patternData.contributor_user_id + '/username').once(\"value\", (snapshot) => {\r\n      let contributor_name = (snapshot.val())\r\n      this.setState({contributor_name: contributor_name})\r\n    })\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.handleGetPatternData();\r\n  }\r\n\r\n  patternDataReturn = () => {\r\n    if (!this.state.dataLoaded){\r\n      return (<div></div>)\r\n    }\r\n    let pattern = this.state.patternData;\r\n      return (\r\n        <>\r\n          <h2>{pattern.pattern_name}</h2>\r\n          <h3>{pattern.author_name}</h3>\r\n          <FavoriteIcon />\r\n          <img src={pattern.image_file_URL} alt=\"placeholder\" />\r\n          <div>Added By:  {this.state.contributor_name}</div>\r\n          <PatternDetail pattern = {pattern}/>\r\n          <PatternDirections pattern = {pattern} />\r\n          {/* <CommentPanel /> */}\r\n        </>\r\n      )\r\n  }\r\n\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"pattern-panel flex-container-column\">\r\n          {this.patternDataReturn()}\r\n      </div>\r\n    )\r\n  }\r\n}\r\nexport default withFirebase(PatternPanel);","import React, { Component } from 'react';\r\nimport Comment from '../Comment/Comment';\r\n\r\nclass CommentPanel extends Component{\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n        open: false\r\n        }\r\n    }\r\n\r\n    togglePanel = (e) => {\r\n    this.setState({open: !this.state.open})\r\n    }\r\n\r\n\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"coll-div\">\r\n                <div className=\"collapsible-header\" onClick ={((e) =>{this.togglePanel(e)})}>Comments</div>\r\n                {this.state.open ? (<div><Comment /></div>) : null}\r\n                </div>\r\n        );\r\n    }\r\n\r\n}\r\n\r\nexport default CommentPanel;","import React, { Component } from 'react'\r\nimport { Link } from 'react-router-dom'\r\n// import TokenService from '../../services/token-service'\r\n\r\nexport default class Header extends Component {\r\n    // handleLogoutClick = () => {\r\n    //     TokenService.clearAuthToken()\r\n    //     window.location.href = '/home'\r\n    // }\r\n\r\n    renderLogoutLink() {\r\n        return (\r\n            <>\r\n                <div className='Header__logged-in bkg-color-tra'>\r\n                    <a className='color-p pd-r-md l-font' href='/landing'>Welcome</a>\r\n                    <Link\r\n                        onClick={this.handleLogoutClick}\r\n                        to='/'>\r\n                        Logout\r\n                </Link>\r\n                </div>\r\n            </>\r\n        )\r\n    }\r\n\r\n    renderLoginLink() {\r\n        return (\r\n            <div className='bkg-color-tra Header__not-logged-in'>\r\n                <a className='color-p bkg-color-tra pd-r-md' href='/landing'>Welcome</a>\r\n                <Link className=\"pd-r-md\"\r\n                    to='/register'>\r\n                    Register\r\n            </Link>\r\n                <Link className=\"width-100\"\r\n                    to='/login'>\r\n                    Log in\r\n            </Link>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <section className='header bkg-color-lt'>\r\n                <h1 className='app-title l-font'>\r\n                    <a href=\"/home\" className='header l-font app-title color-p'>Twisted</a>\r\n                </h1>\r\n                {/* <div className='color-te bkg-color-tra tx-a-c login-wrap'>\r\n                    {TokenService.hasAuthToken()\r\n                        ? this.renderLogoutLink()\r\n                        : this.renderLoginLink()}\r\n                </div> */}\r\n            </section>\r\n        )\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n","import React, { Component } from 'react';\r\nimport Context from '../../Context';\r\nimport { patterns } from '../../data';\r\n\r\n\r\nclass PatternCard extends Component {\r\n   static contextType = Context;\r\n\r\n    handleAddClick = (location) => {\r\n        this.context.history.push(`/${location}/add`)\r\n    }\r\n\r\n    cards = patterns.map(pattern => {\r\n        return (        \r\n        <div className=\"flex-item\" onClick={() => { this.context.history.push(`/pattern/${pattern.id}/edit`) }}>\r\n            { pattern.name }\r\n            <img src={require(`../../Assets/SVG/placeholder-img.svg`)} alt=\"placeholder\" />\r\n                <div>{pattern.contributor}</div>\r\n                <div>Favorites</div>\r\n                <button onClick={() => {this.context.history.push(`/pattern/${pattern.id}/edit`)}}>Edit Pattern</button>\r\n            </div>\r\n        )\r\n    })\r\n \r\n        \r\n\r\n    render() {\r\n\r\n        return (\r\n            <section className='PatternCard flex-container'>                \r\n                <div className=\"flex-container\">\r\n               {this.cards}\r\n               </div>\r\n            </section>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nexport default PatternCard;","import React, { Component } from 'react';\r\n \r\nimport { withFirebase } from '../Firebase';\r\n \r\nconst INITIAL_STATE = {\r\n  passwordOne: '',\r\n  passwordTwo: '',\r\n  error: null,\r\n};\r\n \r\nclass PasswordChangeForm extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n \r\n    this.state = { ...INITIAL_STATE };\r\n  }\r\n \r\n  onSubmit = event => {\r\n    const { passwordOne } = this.state;\r\n \r\n    this.props.firebase\r\n      .doPasswordUpdate(passwordOne)\r\n      .then(() => {\r\n        this.setState({ ...INITIAL_STATE });\r\n      })\r\n      .catch(error => {\r\n        this.setState({ error });\r\n      });\r\n \r\n    event.preventDefault();\r\n  };\r\n \r\n  onChange = event => {\r\n    this.setState({ [event.target.name]: event.target.value });\r\n  };\r\n \r\n  render() {\r\n    const { passwordOne, passwordTwo, error } = this.state;\r\n \r\n    const isInvalid =\r\n      passwordOne !== passwordTwo || passwordOne === '';\r\n \r\n    return (\r\n      <form onSubmit={this.onSubmit}>\r\n        <input\r\n          name=\"passwordOne\"\r\n          value={passwordOne}\r\n          onChange={this.onChange}\r\n          type=\"password\"\r\n          placeholder=\"New Password\"\r\n        />\r\n        <input\r\n          name=\"passwordTwo\"\r\n          value={passwordTwo}\r\n          onChange={this.onChange}\r\n          type=\"password\"\r\n          placeholder=\"Confirm New Password\"\r\n        />\r\n        <button disabled={isInvalid} type=\"submit\">\r\n          Reset My Password\r\n        </button>\r\n \r\n        {error && <p>{error.message}</p>}\r\n      </form>\r\n    );\r\n  }\r\n}\r\n \r\nexport default withFirebase(PasswordChangeForm);","import React, { Component } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport Context from '../../Context';\r\nimport { withFirebase } from '../Firebase';\r\n\r\n\r\n\r\nconst INITIAL_STATE = {\r\n  newPattern: {\r\n    author_name: '',\r\n    pattern_name: '',\r\n    description: '',\r\n    craft: '',\r\n    yarn_weight: '',\r\n    needle_size: '',\r\n  }\r\n}\r\n\r\n\r\nclass AddPattern extends Component {\r\n  static contextType = Context;\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      newPattern: {\r\n        author_name: '',\r\n        pattern_name: '',\r\n        description: '',\r\n        craft: '',\r\n        yarn_weight: '',\r\n        needle_size: '',\r\n      }\r\n    }\r\n  }\r\n\r\n  setContributorUserId = () => {\r\n    this.setState({contributor_user_id: this.props.uid})\r\n    \r\n  }\r\n  \r\n  handleChange = (event) => {\r\n    const key = (event.target.name);\r\n    const value = (event.target.value);\r\n    const { newPattern } = this.state;\r\n    newPattern[key] = value;\r\n    this.setState({ newPattern });\r\n  }\r\n\r\n  handleImageChange = (event) => {\r\n    this.setState({ image_file: event.target.files[0] });\r\n    this.setState({ image_file_name: event.target.files[0].name });\r\n  }\r\n\r\n  handleFileChange = (event) => {\r\n    this.setState({ pdf_file: event.target.files[0] })\r\n    this.setState({ pdf_file_name: event.target.files[0].name })\r\n  }\r\n\r\n  checkUploadPdf = () => {\r\n    if (this.state.pdf_file){\r\n      this.handleUploadPdf();\r\n    };\r\n  }\r\n\r\n  handleUploadPdf = () => {\r\n    if (this.state.pdf_file) {\r\n      let metadata = {\r\n        contributor_user_id: this.state.contributor_user_id,\r\n        pattern_name: this.state.pattern_name\r\n      }\r\n      const uploadTask = this.props.firebase.storage.ref().child('pattern-directions/' + this.state.pdf_file_name).put(this.state.pdf_file, metadata);\r\n\r\n      uploadTask.on(\r\n        \"state_changed\",\r\n        snapshot => { },\r\n        error => {\r\n          console.log(error)\r\n        },\r\n\r\n        () => {\r\n          // gets the functions from storage refences the image storage in firebase by the children\r\n          // gets the download url then sets the image from firebase as the value for the imgUrl key:\r\n          this.props.firebase.storage.ref('/pattern-directions/')\r\n            .child(this.state.pdf_file_name)\r\n            .getDownloadURL()\r\n            .then(fireBaseUrl => {\r\n              this.setState({ pdf_file_URL: fireBaseUrl })\r\n            })\r\n            .then(() => {\r\n              this.checkUploadImage();\r\n            });\r\n        }\r\n      );\r\n    };\r\n\r\n  }\r\n\r\n  handleSetThumbnail = () => {\r\n\r\n    let fileName = this.state.image_file_name.slice(0, -4) \r\n    let fileExt = this.state.image_file_name.slice(-4) \r\n\r\n\r\n    if (this.state.image_file_URL){\r\n    \r\n    this.props.firebase.storage.ref('/images/thumbnails')\r\n        .child(fileName + '_200x200' + fileExt)\r\n        .getDownloadURL()\r\n        .then(fireBaseUrl => {\r\n          this.setState({thumbnail_image_file_URL: fireBaseUrl})\r\n          this.setState({thumbnail_image_file_name: fileName+ '_200x200' + fileExt})\r\n        })\r\n        .then(() => {\r\n      this.createNewPattern()\r\n    });\r\n  }\r\n}\r\n\r\n\r\n  checkUploadImage = () => {\r\n    if (this.state.image_file) {\r\n      this.handleUploadImage()\r\n    }\r\n  }\r\n\r\n    handleUploadImage = () => {\r\n      if (this.state.image_file) {\r\n          let metadata = {\r\n          contributor_user_id: this.state.contributor_user_id,\r\n          pattern_name: this.state.pattern_name\r\n        }\r\n        const uploadTask = this.props.firebase.storage.ref().child('images/' + this.state.image_file_name).put(this.state.image_file, metadata);\r\n\r\n        uploadTask.on(\r\n          \"state_changed\",\r\n          snapshot => { },\r\n          error => {\r\n            console.log(error)\r\n          },\r\n\r\n          () => {\r\n            // gets the functions from storage refences the image storage in firebase by the children\r\n            // gets the download url then sets the image from firebase as the value for the imgUrl key:\r\n            this.props.firebase.storage.ref('/images/')\r\n              .child(this.state.image_file_name)\r\n              .getDownloadURL()\r\n              .then(fireBaseUrl => {\r\n                this.setState({ image_file_URL: fireBaseUrl })\r\n                this.handleSetThumbnail()\r\n              });\r\n          }\r\n        );\r\n      };\r\n    }\r\n\r\n\r\n    createNewPattern = () => {\r\n      if (this.state.thumbnail_image_file_URL) {\r\n        let { author_name, pattern_name, description, craft, yarn_weight, needle_size } = this.state.newPattern;\r\n        let { image_file_URL, image_file_name, pdf_file_name, pdf_file_URL, contributor_user_id, thumbnail_image_file_URL, thumbnail_image_file_name } = this.state\r\n        \r\n      let newPattern = {\r\n          author_name,\r\n          pattern_name,\r\n          description,\r\n          craft,\r\n          yarn_weight,\r\n          needle_size,\r\n          image_file_name,\r\n          thumbnail_image_file_URL, \r\n          thumbnail_image_file_name, \r\n          pdf_file_name,\r\n          contributor_user_id,\r\n          image_file_URL,\r\n          pdf_file_URL\r\n        }\r\n\r\n        this.props.firebase.patterns().push(newPattern)\r\n        \r\n        .then((response)=> {\r\n          let pattern_id = response.key\r\n          this.props.firebase.db.ref(`/patterns/${pattern_id}`).update({pattern_id: pattern_id})\r\n            return (response)  \r\n        })\r\n          .then(() => {\r\n            this.setState({...INITIAL_STATE})\r\n            this.props.history.push('/account/' + this.props.uid + '/contributions')\r\n          })                      \r\n          .catch(function (error) {\r\n            console.error(\"Error writing document: \", error);\r\n          });\r\n\r\n      }\r\n    }\r\n\r\n\r\n\r\n    handleSubmit = (e) => {\r\n      e.preventDefault();\r\n      this.checkUploadPdf(e);\r\n      this.setContributorUserId();\r\n    }\r\n\r\n\r\n    render(){\r\n\r\n  \r\n      return (\r\n        <>\r\n          <h2>Add New Pattern</h2>\r\n          <form onSubmit={this.handleSubmit}>\r\n            <div className=\"form-space\">\r\n              <label htmlFor=\"pattern_name\" className=\"pattern-add\">Pattern Name:</label>\r\n              <input type=\"text\" name=\"pattern_name\" id=\"pattern_name\" onChange={this.handleChange} placeholder='Pattern Name' required />\r\n            </div>\r\n            <div className=\"form-space\">\r\n              <label htmlFor=\"author_name\" className=\"author-add\">Author Name:</label>\r\n              <input type=\"text\" name=\"author_name\" id=\"author_name\" onChange={this.handleChange} placeholder='Author Name' required />\r\n            </div>\r\n            <div className=\"form-space\">\r\n              <label htmlFor=\"description\" className=\"pattern-add\">Description</label>\r\n              <br /><textarea type=\"text\" className=\"description-textarea\" name=\"description\" id=\"description\" onChange={this.handleChange} placeholder='Description' required />\r\n            </div>\r\n            <div className=\"form-space\">\r\n              <label htmlFor=\"craft\" className=\"pattern-add\">Craft</label>\r\n              <input type=\"text\" name=\"craft\" id=\"craft\" onChange={this.handleChange} placeholder='Craft' required />\r\n            </div>\r\n            <div className=\"form-space\">\r\n              <label htmlFor=\"yarn_weight\" className=\"pattern-add\">Yarn Weight</label>\r\n              <input type=\"text\" name=\"yarn_weight\" id=\"yarn_weight\" onChange={this.handleChange} placeholder=\"Yarn Weight\" required />\r\n            </div>\r\n            <div className=\"form-space\">\r\n              <label htmlFor=\"needle_size\">Needle Size</label>\r\n              <input type=\"text\" name=\"needle_size\" id=\"needle_size\" onChange={this.handleChange} placeholder=\"Needle Size\" required />\r\n            </div>\r\n            <div className=\"form-space add-img-form\">\r\n              <label htmlFor=\"image_file\" className=\"pattern-add\">Image:</label>\r\n              <input type=\"file\" name=\"image_file\" id=\"image_file\" onChange={this.handleImageChange} />\r\n            </div>\r\n            <div className=\"form-space add-file-form\">\r\n              <label htmlFor=\"pdf_file\">PDF file</label>\r\n              <input type=\"file\" name=\"pdf_file\" id=\"pdf_file\" onChange={this.handleFileChange} />\r\n            </div>\r\n            <button type=\"submit\" value=\"submit\">Publish Pattern</button>\r\n          </form>\r\n        </>\r\n\r\n      );\r\n    }\r\n  }\r\n  export default withFirebase((withRouter)(AddPattern));","import React, { Component } from 'react';\r\nimport Context from '../../Context';\r\nimport { patterns } from '../../data';\r\n\r\n\r\nclass PatternCardFavs extends Component {\r\n   static contextType = Context;\r\n\r\n    handleAddClick = (location) => {\r\n        this.context.history.push(`/${location}/add`)\r\n    }\r\n\r\n    //*****************FILTER BY Favs\r\n\r\n    cards = patterns.map(pattern => {\r\n        return (        \r\n        <div className=\"flex-item\" onClick={() => { this.context.history.push(`/pattern/${pattern.id}`) }}>\r\n            { pattern.name }\r\n            <img src={require(`../../Assets/SVG/placeholder-img.svg`)} alt=\"placeholder\" />\r\n                <div>{pattern.contributor}</div>\r\n                <div>Favorites</div>\r\n            </div>\r\n        )\r\n    })\r\n \r\n        \r\n\r\n    render() {\r\n\r\n        return (\r\n            <section className='PatternCard flex-container'>                \r\n                <div className=\"flex-container\">\r\n               {this.cards}\r\n               </div>\r\n            </section>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nexport default PatternCardFavs;","import React, { Component } from 'react';\r\nimport Context from '../../Context';\r\nimport { patterns } from '../../data';\r\n\r\n\r\nclass PatternCardContributed extends Component {\r\n   static contextType = Context;\r\n\r\n\r\n//*****************FILTER BY CONTRIBUTED\r\n\r\n    cards = patterns.map(pattern => {\r\n        return (        \r\n        <div className=\"flex-item\" onClick={() => { this.context.history.push(`/pattern/${pattern.id}`) }}>\r\n            { pattern.name }\r\n            <img src={require(`../../Assets/SVG/placeholder-img.svg`)} alt=\"placeholder\" />\r\n                <div>{pattern.contributor}</div>\r\n                <div>Favorites</div>\r\n            </div>\r\n        )\r\n    })\r\n \r\n        \r\n\r\n    render() {\r\n\r\n        return (\r\n            <section className='PatternCard flex-container'>                \r\n                <div className=\"flex-container\">\r\n               {this.cards}\r\n               </div>\r\n            </section>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nexport default PatternCardContributed;","import React, { Component } from 'react';\r\nimport Context from '../../Context';\r\nimport { Tab, Tabs, TabList, TabPanel } from 'react-tabs';\r\nimport 'react-tabs/style/react-tabs.css';\r\nimport PatternCardEdit from '../PatternCard/PatternCardEdit';\r\nimport { PasswordForgetForm } from '../PasswordForget';\r\nimport PasswordChangeForm from '../PasswordChange';\r\nimport AddPattern from '../AddPattern/AddPattern';\r\nimport * as ROLES from '../../constants/roles';\r\nimport PatternCardFavs from '../PatternCard/PatternCardFavs';\r\nimport PatternCardContributed from '../PatternCard/PatternCardContributed';\r\n\r\n\r\nclass Account extends Component {\r\n    static contextType = Context;\r\n\r\n    handleAddClick = (location) => {\r\n        this.context.history.push(`/${location}/add`)\r\n    }\r\n\r\n\r\n    render() {\r\n\r\n        return (\r\n            <section className='home'>\r\n                <div className=\"container\">\r\n\r\n                    <Tabs>\r\n                        <TabList>\r\n                            <Tab>Favorites</Tab>\r\n                            <Tab>Contributions</Tab>\r\n                            <Tab>Account Info</Tab>\r\n                        </TabList>\r\n\r\n                        <TabPanel className=\"favorites tab\">\r\n                            <h2>Favorites </h2>\r\n                            <PatternCardFavs uid={`${this.props.match.params.uid}`}/>\r\n                        </TabPanel>\r\n                        <TabPanel className=\"contributions tab\">\r\n                            <h2>Contributions</h2>\r\n                            <Tabs>\r\n                                <TabList>\r\n                                    <Tab>Contributed Patterns</Tab>\r\n                                    <Tab>Add New Pattern</Tab>\r\n                                    <Tab>Edit Patterns</Tab>\r\n                                </TabList>\r\n                                <TabPanel>\r\n                                    <PatternCardContributed />\r\n                                </TabPanel>\r\n                                <TabPanel>\r\n                                   <AddPattern uid={`${this.props.match.params.uid}`} />\r\n                                </TabPanel>\r\n                                <TabPanel>\r\n                                    Edit Patterns\r\n                                <PatternCardEdit />\r\n                                </TabPanel>\r\n                            </Tabs>\r\n                        </TabPanel>\r\n                        <TabPanel>\r\n                            <h2>Account Information</h2>\r\n                            <div>Name:</div>\r\n                            <div>Email Address:</div>\r\n                            <PasswordForgetForm />\r\n                            <PasswordChangeForm />\r\n                        </TabPanel>\r\n                    </Tabs>\r\n\r\n                </div>\r\n            </section>\r\n        );\r\n    }\r\n}\r\n\r\nexport default (Account);","import React from 'react'\r\nimport './Utils.css'\r\n\r\nexport function Button({ className, ...props }) {\r\n  return <button className={['Button', className].join(' ')} {...props} />\r\n}\r\n\r\nexport function Textarea({ className, ...props }) {\r\n  return (\r\n    <textarea className={['Textarea', className].join(' ')} {...props} />\r\n  )\r\n}\r\n\r\nexport function Input({ className, ...props }) {\r\n  return (\r\n    <input className={['Input', className].join(' ')} {...props} />\r\n  )\r\n}\r\n\r\nexport function Required({ className, ...props }) {\r\n  return (\r\n    <span className={['Required', className].join(' ')} {...props}>\r\n      &#42;\r\n    </span>\r\n  )\r\n}\r\n\r\nexport function Section({ className, list, ...props }) {\r\n  const classes = [\r\n    'Section',\r\n    list && 'Section--list',\r\n    className,\r\n  ].filter(Boolean).join(' ')\r\n  return (\r\n    <section className={classes} {...props} />\r\n  )\r\n}\r\n","import React, { Component } from 'react'\r\nimport { Section } from '../../Components/Utils/Utils'\r\n\r\nexport default class NotFoundPage extends Component {\r\n  render() {\r\n    return (\r\n      <Section className='NotFoundPage'>\r\n        <h2>404 - Page not found</h2>\r\n        <p>Try going back to your previous page.</p>\r\n      </Section>\r\n    )\r\n  }\r\n}\r\n","import React, { Component } from 'react';\r\nimport Context from '../../Context';\r\n\r\nclass PatternEdit extends Component {\r\n    static contextType = Context;\r\n\r\n\r\n    render() {\r\n\r\n        return (\r\n            <>\r\n                <h2>Edit Pattern</h2>\r\n                <form onSubmit={this.handleSubmit}>\r\n                    <div className=\"form-space\">\r\n                        <label htmlFor=\"name\" className=\"pattern-add\">Pattern Name:</label>\r\n                        <input type=\"text\" name=\"name\" id=\"name\" onChange={this.handleChange} placeholder='Pattern Name' required />\r\n                    </div>\r\n                    <div className=\"form-space\">\r\n                        <label htmlFor=\"description\" className=\"pattern-add\">Description</label>\r\n                        <br /><textarea type=\"text\" className=\"description-textarea\" name=\"description\" id=\"description\" onChange={this.handleChange} placeholder='Description' required />\r\n                    </div>\r\n                    <div className=\"form-space\">\r\n                        <label htmlFor=\"craft\" className=\"pattern-add\">Craft</label>\r\n                        <input type=\"text\" name=\"craft\" id=\"craft\" onChange={this.handleChange} placeholder='Craft' required />\r\n                    </div>\r\n                    <div className=\"form-space\">\r\n                        <label htmlFor=\"yarn-weight\" className=\"pattern-add\">Yarn Weight</label>\r\n                        <input type=\"text\" name=\"yarn-weight\" id=\"yarn-weight\" onChange={this.handleChange} placeholder=\"Yarn Weight\" required />\r\n                    </div>\r\n                    <div className=\"form-space\">\r\n                        <label htmlFor=\"needle-size\">Needle Size</label>\r\n                        <input type=\"text\" name=\"needle-size\" id=\"needle-size\" onChange={this.handleChange} placeholder=\"Needle Size\" required />\r\n                    </div>\r\n                    <div className=\"form-space add-img-form\">\r\n                        <label htmlFor=\"image\" className=\"pattern-add\">Image:</label>\r\n                        <input type=\"file\" name=\"images\" id=\"images\" onChange={this.handleImageChange} />\r\n                    </div>\r\n                    <div className=\"form-space add-file-form\">\r\n                        <label htmlFor=\"image\">PDF file</label>\r\n                        <input type=\"file\" name=\"patterndirections\" id=\"image\" onChange={this.handleFileChange} />\r\n                    </div>\r\n                    <button type=\"submit\" value=\"submit\">Publish Pattern</button>\r\n                </form>\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nexport default PatternEdit;","import React from 'react';\r\n\r\nconst AuthUserContext = \r\nReact.createContext(null);\r\nexport default AuthUserContext;","import React from 'react';\r\nimport { withFirebase } from  '../Firebase';\r\nimport { AuthUserContext } from '../Session';\r\n\r\nconst withAuthentication = Component => {\r\n    class WithAuthentication extends React.Component {\r\n        constructor(props){\r\n            super(props);\r\n            this.state = {\r\n                authUser: null,\r\n            };\r\n        }\r\n\r\n    componentDidMount(){\r\n        this.listener = this.props.firebase.onAuthUserListener(authUser => {\r\n                    this.setState({ authUser });\r\n                },\r\n                () => {\r\n                    this.setState({ authUser:null });\r\n                },\r\n            );\r\n        }\r\n        \r\n\r\n    componentWillUnmount(){\r\n        this.listener();\r\n    }\r\n\r\n\r\n    render(){\r\n        return(\r\n            <AuthUserContext.Provider value = {this.state.authUser}>\r\n                <Component {...this.props} />\r\n            </AuthUserContext.Provider>\r\n        );\r\n        }\r\n    }\r\n    return withFirebase(WithAuthentication);\r\n};\r\n\r\nexport default withAuthentication;","import React from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { compose } from 'recompose';\r\nimport AuthUserContext from './context';\r\nimport { withFirebase } from '../Firebase';\r\nimport * as ROUTES from '../../constants/routes';\r\n\r\n\r\n\r\nconst withAuthorization = condition => Component => {\r\n    class WithAuthorization extends React.Component{\r\n        componentDidMount(){\r\n            this.listener = this.props.firebase.onAuthUserListener(\r\n                authUser => {\r\n                    if(!condition(authUser)){\r\n                       this.props.history.push(ROUTES.Sign_In);\r\n                }\r\n                },\r\n                () => this.props.history.push(ROUTES.Sign_In),\r\n            );    \r\n            }\r\n\r\n        componentWillUnmount(){\r\n            this.listener();\r\n        }\r\n        \r\n        render(){\r\n            return(\r\n                <AuthUserContext.Consumer>\r\n                    {authUser => condition(authUser) ? <Component {...this.props} /> : null}\r\n                </AuthUserContext.Consumer>\r\n            );\r\n        }\r\n    }\r\n\r\nreturn compose (\r\n    withRouter, \r\n    withFirebase\r\n    )(WithAuthorization);\r\n};\r\n\r\n\r\nexport default withAuthorization;","import React, { Component } from 'react';\r\nimport { withFirebase } from '../Firebase';\r\nimport { compose } from 'recompose';\r\nimport { withAuthorization } from '../Session';\r\nimport * as ROLES from '../../constants/roles';\r\n\r\nclass AdminPage extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n \r\n    this.state = {\r\n      loading: false,\r\n      users: [],\r\n    };\r\n  }\r\n \r\n  componentDidMount() {\r\n    this.setState({ loading: true });\r\n \r\n    this.props.firebase.users().on('value', snapshot => {\r\n        const usersObject = snapshot.val();\r\n        const usersList = Object.keys(usersObject).map(key => ({\r\n            ...usersObject[key],\r\n            uid: key,\r\n        }));\r\n        \r\n        this.setState({ \r\n        users: usersList,\r\n        loading: false,\r\n        });\r\n\r\n    });\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.props.firebase.users().off();\r\n  }\r\n \r\n  render() {\r\n    const { users, loading } = this.state;\r\n    console.log(users, \"users\")\r\n    return (\r\n      <div>\r\n        <h1>Admin</h1>\r\n        <p>The admin page is accessible by every signed in admin user.</p>\r\n      {loading && <div> Loading ...</div>}\r\n      <UserList users = {users} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst UserList = ({ users }) => (\r\n    <ul>\r\n        {users.map(user => (\r\n            <li key={user.uid}>\r\n                <span><strong>ID:</strong>{user.uid}</span>\r\n                 <span><strong>E-Mail:</strong>{user.email}</span>\r\n            <span><strong>Username:</strong>{user.username}</span>\r\n            </li>\r\n        ))}\r\n    </ul>\r\n);\r\n\r\nconst condition = authUser => \r\n          authUser && !!authUser.roles[ROLES.ADMIN];\r\n \r\nexport default compose (\r\n  withAuthorization(condition),\r\n  withFirebase)\r\n  (AdminPage);","import React from 'react';\r\nimport { withFirebase } from '../Firebase';\r\n\r\nconst SignOutButton = ({ firebase }) => (\r\n    <button type=\"button\" onClick={firebase.doSignOut}>Sign Out</button>\r\n);\r\n\r\nexport default withFirebase(SignOutButton);","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport SignOutButton from '../SignOut';\r\nimport * as ROUTES from '../../constants/routes';\r\nimport { AuthUserContext } from '../Session';\r\nimport * as ROLES from '../../constants/roles';\r\n\r\n\r\nconst Navigation = () => (\r\n    <div>\r\n        <AuthUserContext.Consumer>\r\n            {authUser => \r\n            authUser ? (\r\n            <NavigationAuth authUser={authUser} />) : <NavigationNonAuth />}\r\n        </AuthUserContext.Consumer>\r\n    </div>\r\n);\r\n\r\nconst NavigationAuth = ({ authUser }) => (\r\n    <ul>\r\n         <li>\r\n            <Link to = {ROUTES.Landing}>Landing</Link>\r\n        </li>\r\n        <li>\r\n            <Link to = {ROUTES.Home}>Home</Link>\r\n        </li>\r\n        <li>\r\n            <Link to = {ROUTES.Account + '/' + `${authUser.uid}`}>Account</Link>\r\n        </li>\r\n        {!!authUser.roles[ROLES.ADMIN] && (\r\n                <li>\r\n                    <Link to={ROUTES.Admin}>Admin</Link>\r\n                </li>     \r\n        )}\r\n       \r\n        <li>\r\n            <SignOutButton />\r\n        </li>\r\n    </ul>\r\n);\r\n\r\nconst NavigationNonAuth = () => (\r\n    <ul>\r\n        <li>\r\n            <Link to = {ROUTES.Landing}>Landing</Link>\r\n        </li>\r\n        <li>\r\n            <Link to = {ROUTES.Sign_In}>Sign In</Link>\r\n        </li>\r\n    </ul>\r\n)\r\n\r\n\r\n\r\n\r\nexport default Navigation;","import React, { Component } from 'react';\nimport { Route, Switch, withRouter } from 'react-router-dom';\nimport LandingPage from '../Landing/Landing';\nimport Home from '../Main/Main';\nimport PatternPanel from '../PatternPanel/PatternPanel';\nimport Header from '../Header/Header';\nimport Account from '../Account/Account';\nimport TwistedContext from '../../Context';\nimport NotFoundPage from '../NotFoundPage/NotFoundPage';\nimport PatternEdit from '../PatternEdit/PatternEdit';\nimport AdminPage from '../Admin';\nimport * as Routes from '../../constants/routes';\nimport { withAuthentication } from '../Session';\nimport SignUpPage from '../SignUp';\nimport SignInPage from '../Signin';\nimport PasswordForgetPage from '../PasswordForget';\nimport Navigation from '../Navigation/index';\n\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n    \n    }\n  }\n\n\n  render() {\n    const contextValue = {\n      history: this.props.history,\n    }\n\n  return (\n    <>     \n    <TwistedContext.Provider value={contextValue}>\n    <main className='app'>\n      <Header />\n      <Navigation />\n      <hr/>\n      <Switch>\n        <Route\n          exact path={'/'}\n          component={LandingPage}\n        />\n        <Route\n          exact path={'/'}\n          component={LandingPage}\n        />\n        <Route  \n           exact path = {Routes.Sign_Up}\n            component = {SignUpPage}\n        />\n        <Route  \n            exact path = {Routes.Sign_In}\n            component = {SignInPage}\n        />\n        <Route  \n            exact path = {Routes.Password_Forget}\n            component = {PasswordForgetPage}\n        />\n\n        <Route\n          exact path={'/home'}\n          component={Home}\n        />\n        <Route\n          path={'/patterns/:uid'}\n          component={PatternPanel}\n          />\n      {/* <PrivateOnlyRoute       \n      exact path={'/pattern/lg'}\n      component={PatternLarge}\n      />\n      <PrivateOnlyRoute*/}\n      <Route\n      exact path={'/account/:uid'}\n      component={Account} \n      />\n      <Route\n      exact path={'/account/:uid/add'}\n      component={Account} \n      />\n      <Route\n        exact path={'/account/:user/:pattern_id/edit'}\n        component={PatternEdit}\n        />\n        <Route\n        exact path = {'/account/:uid/favorites'}\n        component={Account}\n        />\n        <Route  \n            path = {Routes.Admin}\n            component = {AdminPage}\n        />\n      }\n        {/* <PublicOnlyRoute\n          path={'/login'}\n          component={LoginPage}\n        />\n        <PublicOnlyRoute\n          path={'/register'}\n          component={RegistrationPage}\n        />  */}\n         <Route\n          component={NotFoundPage}\n        />\n      </Switch>\n    </main>\n </TwistedContext.Provider>\n </>\n  );\n}\n}\n\nexport default withRouter(withAuthentication(App));","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {BrowserRouter} from 'react-router-dom';\nimport App from './Components/App/App';\nimport './index.css';\n// import * as serviceWorker from './serviceWorker';\nimport Firebase, { FirebaseContext } from './Components/Firebase';\n\n\nReactDOM.render(  <FirebaseContext.Provider value = {new Firebase()} >\n<BrowserRouter><App /></BrowserRouter>\n</FirebaseContext.Provider>, document.getElementById('root'));","const users = [\r\n    {\r\n        id: 1,\r\n        name: \"name1\",\r\n        username: \"user1\",\r\n        password: \"password1\",\r\n        admin: \"true\"\r\n    },\r\n    {\r\n        id: 2,\r\n        username: \"user2\",\r\n        password: \"password2\",\r\n        admin: \"false\"\r\n    },\r\n    {\r\n        id: 3,\r\n        username: \"user3\",\r\n        password: \"password3\",\r\n        admin: \"false\"\r\n    },\r\n]\r\n\r\nconst patterns= [\r\n    {\r\n        id: 1,\r\n        contributor: 1,\r\n        name: \"Pattern1\",\r\n        description: \"description1\",\r\n        craft: \"knit\",\r\n        yarn_weight: \"worsted\",\r\n        needle_size: \"US 8 - 5mm\",\r\n        pdf_file_link: \"https://twistedknit.s3-us-west-1.amazonaws.com/DemoPDF.pdf\",\r\n        image: \"placeholder-img.svg\",\r\n        price: \"free\"\r\n    },\r\n    {\r\n        id: 2,\r\n        contributor: 1,\r\n        name: \"Pattern2\",\r\n        description: \"description2\",\r\n        craft: \"crochet\",\r\n        yarn_weight: \"worsted\",\r\n        needle_size: \"US 8 - 5mm\",\r\n        pdf_file_link: \"https://twistedknit.s3-us-west-1.amazonaws.com/DemoPDF.pdf\",\r\n        image: \"placeholder-img.svg\",\r\n        price: \"free\"\r\n    },\r\n    {\r\n        id: 3,\r\n        contributor: 2,\r\n        name: \"Pattern3\",\r\n        description: \"description3\",\r\n        craft: \"crochet\",\r\n        yarn_weight: \"worsted\",\r\n        needle_size: \"US 8 - 5mm\",\r\n        pdf_file_link: \"https://twistedknit.s3-us-west-1.amazonaws.com/DemoPDF.pdf\",\r\n        image: \"placeholder-img.svg\",\r\n        price: \"free\"\r\n    }\r\n]\r\n\r\nconst followers = [\r\n    {\r\n    id: 1, \r\n    user_id: 1, \r\n    following: 2\r\n    },\r\n    {\r\n    id: 2, \r\n    user_id: 1, \r\n    following: 3\r\n    },\r\n    {\r\n    id: 1, \r\n    user_id: 2, \r\n    following: 3\r\n    }\r\n]\r\n\r\nconst comments = [\r\n    {\r\n    id: 1,\r\n    author: 1, \r\n    pattern_id: 1\r\n    },\r\n    {\r\n    id: 2,\r\n    author: 2, \r\n    pattern_id: 1\r\n    },\r\n    {\r\n    id: 3,\r\n    author: 3, \r\n    pattern_id: 1\r\n    }\r\n]\r\n\r\nconst purchases = [\r\n    {\r\n    id: null,\r\n    pattern_id: null,\r\n    user_id: null,    \r\n    date: null,\r\n    method: null,\r\n    }\r\n]\r\n\r\nconst contributions = [\r\n    {\r\n        id: 1,\r\n        contributor: 1, \r\n        pattern_id: 1\r\n    },\r\n    {\r\n        id: 2,\r\n        contributor: 1, \r\n        pattern_id: 2\r\n    },\r\n    {\r\n        id: 3,\r\n        contributor: 2, \r\n        pattern_id: 3\r\n    }\r\n]\r\n\r\nconst favorites = [\r\n    {\r\n        id: 1, \r\n        contributor: 1,\r\n        favorited_by: 2, \r\n        pattern_id: 1\r\n    },\r\n    {\r\n        id: 2, \r\n        contributor: 1,\r\n        favorited_by: 2, \r\n        pattern_id: 2\r\n    },\r\n    {\r\n        id: 3, \r\n        contributor: 2,\r\n        favorited_by: 3, \r\n        pattern_id: 3\r\n    },\r\n]\r\n\r\nmodule.exports = { users, followers, comments, contributions, favorites, purchases, patterns }\r\n\r\n","function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 42;","module.exports = __webpack_public_path__ + \"static/media/placeholder-img.5daa4363.svg\";","module.exports = __webpack_public_path__ + \"static/media/unfav.502b2a4d.svg\";","module.exports = __webpack_public_path__ + \"static/media/fav.e66361f9.svg\";"],"sourceRoot":""}