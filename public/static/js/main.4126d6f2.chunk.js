(this["webpackJsonptwisted-client"]=this["webpackJsonptwisted-client"]||[]).push([[0],{136:function(e,t,a){e.exports=a.p+"static/media/DemoPDF.f5e0f17a.pdf"},138:function(e,t,a){},139:function(e,t,a){},140:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(68),i=a.n(l),c=a(9),o=a(1),s=a(2),u=a(4),m=a(3),d=a(32),p=r.a.createContext({history:{}}),h=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("section",{className:"landing"},r.a.createElement("div",{className:"flex-container bkg-color-wt landing"},r.a.createElement("div",{className:"landing-text landing-wrap"},r.a.createElement("h2",{className:"welcome align-center color-p"},"Welcome!"),"Twisted is a web application designed to enable yarn lovers to collect, save and explore patterns.")),r.a.createElement("button",{className:"start-btn",onClick:function(){e.context.history.push("/home")}},"Get Started"))}}]),a}(n.Component);h.contextType=p;var f=h,b=r.a.createContext(null),g=function(e){return function(t){return r.a.createElement(b.Consumer,null,(function(a){return r.a.createElement(e,Object.assign({},t,{firebase:a}))}))}},E=b,v=a(10),_=a(40),y=a.n(_),O=(a(81),a(83),a(141),{apiKey:"AIzaSyAGvBDaSnAskURl9pxXg9fx-CfBqYWaex8",authDomain:"twisted-9a506.firebaseapp.com",databaseURL:"https://twisted-9a506.firebaseio.com",projectId:"twisted-9a506",storageBucket:"twisted-9a506.appspot.com",messagingSenderId:"694555486749",appId:"1:694555486749:web:4a5a4e6df97e4dd35334f4",measurementId:"G-RMZ2NZJRJ0"}),C=function e(){var t=this;Object(o.a)(this,e),this.doCreateUserWithEmailAndPassword=function(e,a){return t.auth.createUserWithEmailAndPassword(e,a)},this.doSignInWithEmailAndPassword=function(e,a){return t.auth.signInWithEmailAndPassword(e,a)},this.doSignOut=function(){return t.auth.signOut()},this.doPasswordReset=function(e){return t.auth.sendPasswordResetEmail(e)},this.doPasswordUpdate=function(e){return t.auth.currentUser.updatePassword(e)},this.onAuthUserListener=function(e,a){return t.auth.onAuthStateChanged((function(n){n?t.user(n.uid).once("value").then((function(t){var a=t.val();a.roles||(a.roles={}),n=Object(v.a)({uid:n.uid,email:n.email},a),e(n)})):a()}))},this.user=function(e){return t.db.ref("users/".concat(e))},this.users=function(){return t.db.ref("users")},this.pattern=function(e){return t.db.ref("/patterns/".concat(e))},this.patterns=function(){return t.db.ref("/patterns")},this.image=function(e){return t.storage.ref("images/".concat(e))},this.images=function(){return t.storage.ref("images")},this.file=function(e){return t.storage.ref("file/".concat(e))},this.files=function(){return t.storage.ref("files")},y.a.initializeApp(O),this.auth=y.a.auth(),this.db=y.a.database(),this.storage=y.a.storage()},w=function(e){Object(u.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).handleFavClick=function(){var e=a.state.fav;a.setState({fav:!e}),console.log(a.state.fav)},a.state={fav:!1,favCount:null},a}return Object(s.a)(n,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"fav-icon",onClick:function(){e.handleFavClick()}},!1===this.state.fav?r.a.createElement("img",{src:a(86),alt:"favorite-icon"}):r.a.createElement("img",{src:a(87),alt:"favorite-icon"}))}}]),n}(n.Component),j=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handleGetPatternArray=function(){n.props.firebase.patterns().on("value",(function(e){var t=Object.values(e.val());n.setState({patternListArray:t}),n.setState({dataLoaded:!0})}))},n.handleCardRender=function(){if(n.state.patternListArray)return n.state.patternListArray.map((function(e){var t=e;return n.handleGetContributorName=function(){n.state.contributor_name||n.props.firebase.db.ref("users/"+t.contributor_user_id+"/username").once("value",(function(e){var t=e.val();n.setState({contributor_name:t})}))},n.handleGetContributorName(),r.a.createElement("div",{className:"flex-item"},r.a.createElement("div",{onClick:function(){n.context.history.push("/patterns/".concat(t.pattern_id))}},t.pattern_name,r.a.createElement("img",{src:t.thumbnail_image_file_URL,alt:"placeholder"}),r.a.createElement("div",null,n.state.contributor_name)),r.a.createElement(w,null))}))},n.componentDidMount=function(){n.handleGetPatternArray()},n.state={patternListArray:null},n}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement("section",{className:"PatternCard flex-container"},r.a.createElement("div",{className:"flex-container"},this.handleCardRender()))}}]),a}(n.Component);j.contextType=p;var N=g(j),S=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement("section",{className:"home"},r.a.createElement("div",{className:"container"},r.a.createElement("h1",null," Pattern Cards will be below  "),r.a.createElement(N,null)))}}]),a}(n.Component),k=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).togglePanel=function(e){n.setState({open:!n.state.open})},n.state={open:!1},n}return Object(s.a)(a,[{key:"render",value:function(){var e=this,t=this.props.pattern;return r.a.createElement("div",{className:"coll-div"},r.a.createElement("div",{className:"collapsible-header",onClick:function(t){e.togglePanel(t)}},"Pattern Details"),this.state.open?r.a.createElement(r.a.Fragment,null,r.a.createElement("ul",null,r.a.createElement("li",null,"Craft: ",t.craft),r.a.createElement("li",null,"Yarn Weight: ",t.yarn_weight),r.a.createElement("li",null,"Needle Size:",t.needle_size),r.a.createElement("li",null,"Description:",t.description))):null)}}]),a}(n.Component),P=a(36),x=a(17),U=a(31),A={username:"",email:"",passwordOne:"",passwordTwo:"",isAdmin:!1,error:null},D=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).onSubmit=function(e){e.preventDefault();var t=n.state,a=t.username,r=t.email,l=t.passwordOne,i=t.isAdmin,c={};i&&(c.ADMIN="ADMIN"),n.props.firebase.doCreateUserWithEmailAndPassword(r,l).then((function(e){return n.props.firebase.user(e.user.uid).set({username:a,email:r,roles:c})})).then((function(e){n.setState(Object(v.a)({},A)),n.props.history.push("/home")})).catch((function(e){n.setState({error:e})}))},n.onChange=function(e){n.setState(Object(x.a)({},e.target.name,e.target.value))},n.onChangeCheckbox=function(e){n.setState(Object(x.a)({},e.target.name,e.target.checked))},n.state=Object(v.a)({},A),n}return Object(s.a)(a,[{key:"render",value:function(){var e=this.state,t=e.username,a=e.email,n=e.passwordOne,l=e.passwordTwo,i=e.isAdmin,c=e.error,o=n!==l||" "===n||" "===t;return r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement("input",{name:"username",value:t,onChange:this.onChange,type:"text",placeholder:"Full Name"}),r.a.createElement("input",{name:"email",value:a,onChange:this.onChange,type:"text",placeholder:"Email Address"}),r.a.createElement("input",{name:"passwordOne",value:n,onChange:this.onChange,type:"password",placeholder:"Password"}),r.a.createElement("input",{name:"passwordTwo",value:l,onChange:this.onChange,type:"password",placeholder:"Confirm Password"}),r.a.createElement("label",null,"Admin:",r.a.createElement("input",{name:"isAdmin",type:"checkbox",checked:i,onChange:this.onChangeCheckbox})),r.a.createElement("button",{disabled:o,type:"submit"},"Sign Up"),c&&r.a.createElement("p",null,c.message))}}]),a}(n.Component),F=function(){return r.a.createElement("p",null,"Don't have an account? ",r.a.createElement(c.b,{to:"/signup"},"Sign Up"))},L=Object(U.a)(d.f,g)(D),I=function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"SignUp"),r.a.createElement(L,null))},R={email:"",error:null},z=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).onSubmit=function(e){var t=n.state.email;n.props.firebase.doPasswordReset(t).then((function(){n.setState(Object(v.a)({},R))})).catch((function(e){n.setState({error:e})})),e.preventDefault()},n.onChange=function(e){n.setState(Object(x.a)({},e.target.name,e.target.value))},n.state=Object(v.a)({},R),n}return Object(s.a)(a,[{key:"render",value:function(){var e=this.state,t=e.email,a=e.error,n=""===t;return r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement("input",{name:"email",value:this.state.email,onChange:this.onChange,type:"text",placeholder:"Email Address"}),r.a.createElement("button",{disabled:n,type:"submit"},"Reset My Password"),a&&r.a.createElement("p",null,a.message))}}]),a}(n.Component),T=function(){return r.a.createElement("p",null,r.a.createElement(c.b,{to:"/pw-forget"},"Forgot Password?"))},W=function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"PasswordForget"),r.a.createElement(M,null))},M=g(z),q={email:"",password:"",error:null},G=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).onSubmit=function(e){e.preventDefault();var t=n.state,a=t.email,r=t.password;n.props.firebase.doSignInWithEmailAndPassword(a,r).then((function(){n.setState(Object(v.a)({},q)),n.props.location.pathname.includes("/pattern")||n.props.history.push("/home")})).catch((function(e){n.setState({error:e})}))},n.onChange=function(e){n.setState(Object(x.a)({},e.target.name,e.target.value))},n.state=Object(v.a)({},q),n}return Object(s.a)(a,[{key:"render",value:function(){var e=this.state,t=e.email,a=e.password,n=e.error,l=""===a||""===t;return r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement("input",{name:"email",value:t,onChange:this.onChange,type:"text",placeholder:"Email Address"}),r.a.createElement("input",{name:"password",value:a,onChange:this.onChange,type:"password",placeholder:"Password"}),r.a.createElement("button",{disabled:l,type:"submit"},"Sign In"),n&&r.a.createElement("p",null,n.message))}}]),a}(n.Component),Y=Object(U.a)(d.f,g)(G),B=function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"SignIn"),r.a.createElement(Y,null),r.a.createElement(T,null),r.a.createElement(F,null))};a(136);P.pdfjs.GlobalWorkerOptions.workerSrc="//cdnjs.cloudflare.com/ajax/libs/pdf.js/".concat(P.pdfjs.version,"/pdf.worker.js");var J=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).onDocumentLoadSuccess=function(e){var t=e.numPages;n.setState({numPages:t})},n.togglePanel=function(e){n.setState({open:!n.state.open})},n.state={open:!1,numPages:null,pageNumber:1},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.listener=this.props.firebase.auth.onAuthStateChanged((function(t){t?e.setState({authUser:t}):e.setState({authUser:null})}))}},{key:"componentWillUnmount",value:function(){this.listener()}},{key:"render",value:function(){var e=this,t=this.state,a=t.pageNumber,n=t.numPages,l=this.props.pattern;return r.a.createElement("div",{className:"coll-div"},r.a.createElement("div",{className:"collapsible-header",onClick:function(t){e.togglePanel(t)}},"Pattern Instructions"),this.state.open&&this.state.authUser?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,"Click the link to print or save the pattern directions"),r.a.createElement("a",{href:"".concat(l.pdf_file_URL),target:"_blank",rel:"noopener noreferrer"},"Open, Print, or Download File"),r.a.createElement("div",null,r.a.createElement(P.Document,{file:l.pdf_file_URL,onLoadSuccess:this.onDocumentLoadSuccess},r.a.createElement(P.Page,{pageNumber:a})),r.a.createElement("p",{className:"pdf-pg"},"Page ",a," of ",n))):this.state.open&&!this.state.authUser?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,"You must be logged in to view the pattern directions. Please sign in!",r.a.createElement(B,null))):null)}}]),a}(n.Component),H=g(J),Z=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handleSubmit=function(e){e.preventDefault(),console.log(e.value)},n.state={commentPattern:"patternId",commentAuthorName:"Name1",commentText:"sample comment here"},n}return Object(s.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"comment-form"},r.a.createElement("form",{onSubmit:function(){return e.handleSubmit()}},r.a.createElement("label",{for:"comment"},"New Comment:"),r.a.createElement("textarea",{rows:"4",cols:"40",id:"comment",name:"comment"}),r.a.createElement("button",{type:"submit"},"Post Comment"))),r.a.createElement("div",{className:"comment"},this.state.commentText,this.state.commentAuthor))}}]),a}(n.Component),K=(n.Component,function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handleGetPatternData=function(){n.props.firebase.db.ref("/patterns/".concat(n.props.match.params.uid)).once("value",(function(e){var t=e.val();n.setState({patternData:t}),n.setState({dataLoaded:!0}),n.handleGetContributorName()}))},n.handleGetContributorName=function(){n.state.dataLoaded&&n.props.firebase.db.ref("users/"+n.state.patternData.contributor_user_id+"/username").once("value",(function(e){var t=e.val();n.setState({contributor_name:t})}))},n.patternDataReturn=function(){if(!n.state.dataLoaded)return r.a.createElement("div",null);var e=n.state.patternData;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,e.pattern_name),r.a.createElement("h3",null,e.author_name),r.a.createElement(w,null),r.a.createElement("img",{src:e.image_file_URL,alt:"placeholder"}),r.a.createElement("div",null,"Added By:  ",n.state.contributor_name),r.a.createElement(k,{pattern:e}),r.a.createElement(H,{pattern:e}))},n.state={patternData:null},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.handleGetPatternData()}},{key:"render",value:function(){return r.a.createElement("div",{className:"pattern-panel flex-container-column"},this.patternDataReturn())}}]),a}(n.Component));K.contextType=p;var X=g(K),Q=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"renderLogoutLink",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"Header__logged-in bkg-color-tra"},r.a.createElement("a",{className:"color-p pd-r-md l-font",href:"/landing"},"Welcome"),r.a.createElement(c.b,{onClick:this.handleLogoutClick,to:"/"},"Logout")))}},{key:"renderLoginLink",value:function(){return r.a.createElement("div",{className:"bkg-color-tra Header__not-logged-in"},r.a.createElement("a",{className:"color-p bkg-color-tra pd-r-md",href:"/landing"},"Welcome"),r.a.createElement(c.b,{className:"pd-r-md",to:"/register"},"Register"),r.a.createElement(c.b,{className:"width-100",to:"/login"},"Log in"))}},{key:"render",value:function(){return r.a.createElement("section",{className:"header bkg-color-lt"},r.a.createElement("h1",{className:"app-title l-font"},r.a.createElement("a",{href:"/home",className:"header l-font app-title color-p"},"Twisted")))}}]),a}(n.Component),V=a(11),$=(a(137),a(35)),ee=function(e){Object(u.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(o.a)(this,n);for(var l=arguments.length,i=new Array(l),c=0;c<l;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).handleAddClick=function(t){e.context.history.push("/".concat(t,"/add"))},e.cards=$.patterns.map((function(t){return r.a.createElement("div",{className:"flex-item",onClick:function(){e.context.history.push("/pattern/".concat(t.id,"/edit"))}},t.name,r.a.createElement("img",{src:a(53),alt:"placeholder"}),r.a.createElement("div",null,t.contributor),r.a.createElement("div",null,"Favorites"),r.a.createElement("button",{onClick:function(){e.context.history.push("/pattern/".concat(t.id,"/edit"))}},"Edit Pattern"))})),e}return Object(s.a)(n,[{key:"render",value:function(){return r.a.createElement("section",{className:"PatternCard flex-container"},r.a.createElement("div",{className:"flex-container"},this.cards))}}]),n}(n.Component);ee.contextType=p;var te=ee,ae={passwordOne:"",passwordTwo:"",error:null},ne=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).onSubmit=function(e){var t=n.state.passwordOne;n.props.firebase.doPasswordUpdate(t).then((function(){n.setState(Object(v.a)({},ae))})).catch((function(e){n.setState({error:e})})),e.preventDefault()},n.onChange=function(e){n.setState(Object(x.a)({},e.target.name,e.target.value))},n.state=Object(v.a)({},ae),n}return Object(s.a)(a,[{key:"render",value:function(){var e=this.state,t=e.passwordOne,a=e.passwordTwo,n=e.error,l=t!==a||""===t;return r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement("input",{name:"passwordOne",value:t,onChange:this.onChange,type:"password",placeholder:"New Password"}),r.a.createElement("input",{name:"passwordTwo",value:a,onChange:this.onChange,type:"password",placeholder:"Confirm New Password"}),r.a.createElement("button",{disabled:l,type:"submit"},"Reset My Password"),n&&r.a.createElement("p",null,n.message))}}]),a}(n.Component),re=g(ne),le={newPattern:{author_name:"",pattern_name:"",description:"",craft:"",yarn_weight:"",needle_size:""}},ie=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).setContributorUserId=function(){n.setState({contributor_user_id:n.props.uid})},n.handleChange=function(e){var t=e.target.name,a=e.target.value,r=n.state.newPattern;r[t]=a,n.setState({newPattern:r})},n.handleImageChange=function(e){n.setState({image_file:e.target.files[0]}),n.setState({image_file_name:e.target.files[0].name})},n.handleFileChange=function(e){n.setState({pdf_file:e.target.files[0]}),n.setState({pdf_file_name:e.target.files[0].name})},n.checkUploadPdf=function(){n.state.pdf_file&&n.handleUploadPdf()},n.handleUploadPdf=function(){if(n.state.pdf_file){var e={contributor_user_id:n.state.contributor_user_id,pattern_name:n.state.pattern_name};n.props.firebase.storage.ref().child("pattern-directions/"+n.state.pdf_file_name).put(n.state.pdf_file,e).on("state_changed",(function(e){}),(function(e){console.log(e)}),(function(){n.props.firebase.storage.ref("/pattern-directions/").child(n.state.pdf_file_name).getDownloadURL().then((function(e){n.setState({pdf_file_URL:e})})).then((function(){n.checkUploadImage()}))}))}},n.handleSetThumbnail=function(){var e=n.state.image_file_name.slice(0,-4),t=n.state.image_file_name.slice(-4);n.state.image_file_URL&&n.props.firebase.storage.ref("/images/thumbnails").child(e+"_200x200"+t).getDownloadURL().then((function(a){n.setState({thumbnail_image_file_URL:a}),n.setState({thumbnail_image_file_name:e+"_200x200"+t})})).then((function(){n.createNewPattern()}))},n.checkUploadImage=function(){n.state.image_file&&n.handleUploadImage()},n.handleUploadImage=function(){if(n.state.image_file){var e={contributor_user_id:n.state.contributor_user_id,pattern_name:n.state.pattern_name};n.props.firebase.storage.ref().child("images/"+n.state.image_file_name).put(n.state.image_file,e).on("state_changed",(function(e){}),(function(e){console.log(e)}),(function(){n.props.firebase.storage.ref("/images/").child(n.state.image_file_name).getDownloadURL().then((function(e){n.setState({image_file_URL:e}),n.handleSetThumbnail()}))}))}},n.createNewPattern=function(){if(n.state.thumbnail_image_file_URL){var e=n.state.newPattern,t=e.author_name,a=e.pattern_name,r=e.description,l=e.craft,i=e.yarn_weight,c=e.needle_size,o=n.state,s=o.image_file_URL,u=o.image_file_name,m=o.pdf_file_name,d=o.pdf_file_URL,p=o.contributor_user_id,h={author_name:t,pattern_name:a,description:r,craft:l,yarn_weight:i,needle_size:c,image_file_name:u,thumbnail_image_file_URL:o.thumbnail_image_file_URL,thumbnail_image_file_name:o.thumbnail_image_file_name,pdf_file_name:m,contributor_user_id:p,image_file_URL:s,pdf_file_URL:d};n.props.firebase.patterns().push(h).then((function(e){var t=e.key;return n.props.firebase.db.ref("/patterns/".concat(t)).update({pattern_id:t}),e})).then((function(){n.setState(Object(v.a)({},le)),n.props.history.push("/account/"+n.props.uid+"/contributions")})).catch((function(e){console.error("Error writing document: ",e)}))}},n.handleSubmit=function(e){e.preventDefault(),n.checkUploadPdf(e),n.setContributorUserId()},n.state={newPattern:{author_name:"",pattern_name:"",description:"",craft:"",yarn_weight:"",needle_size:""}},n}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,"Add New Pattern"),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",{className:"form-space"},r.a.createElement("label",{htmlFor:"pattern_name",className:"pattern-add"},"Pattern Name:"),r.a.createElement("input",{type:"text",name:"pattern_name",id:"pattern_name",onChange:this.handleChange,placeholder:"Pattern Name",required:!0})),r.a.createElement("div",{className:"form-space"},r.a.createElement("label",{htmlFor:"author_name",className:"author-add"},"Author Name:"),r.a.createElement("input",{type:"text",name:"author_name",id:"author_name",onChange:this.handleChange,placeholder:"Author Name",required:!0})),r.a.createElement("div",{className:"form-space"},r.a.createElement("label",{htmlFor:"description",className:"pattern-add"},"Description"),r.a.createElement("br",null),r.a.createElement("textarea",{type:"text",className:"description-textarea",name:"description",id:"description",onChange:this.handleChange,placeholder:"Description",required:!0})),r.a.createElement("div",{className:"form-space"},r.a.createElement("label",{htmlFor:"craft",className:"pattern-add"},"Craft"),r.a.createElement("input",{type:"text",name:"craft",id:"craft",onChange:this.handleChange,placeholder:"Craft",required:!0})),r.a.createElement("div",{className:"form-space"},r.a.createElement("label",{htmlFor:"yarn_weight",className:"pattern-add"},"Yarn Weight"),r.a.createElement("input",{type:"text",name:"yarn_weight",id:"yarn_weight",onChange:this.handleChange,placeholder:"Yarn Weight",required:!0})),r.a.createElement("div",{className:"form-space"},r.a.createElement("label",{htmlFor:"needle_size"},"Needle Size"),r.a.createElement("input",{type:"text",name:"needle_size",id:"needle_size",onChange:this.handleChange,placeholder:"Needle Size",required:!0})),r.a.createElement("div",{className:"form-space add-img-form"},r.a.createElement("label",{htmlFor:"image_file",className:"pattern-add"},"Image:"),r.a.createElement("input",{type:"file",name:"image_file",id:"image_file",onChange:this.handleImageChange})),r.a.createElement("div",{className:"form-space add-file-form"},r.a.createElement("label",{htmlFor:"pdf_file"},"PDF file"),r.a.createElement("input",{type:"file",name:"pdf_file",id:"pdf_file",onChange:this.handleFileChange})),r.a.createElement("button",{type:"submit",value:"submit"},"Publish Pattern")))}}]),a}(n.Component);ie.contextType=p;var ce=g(Object(d.f)(ie)),oe=function(e){Object(u.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(o.a)(this,n);for(var l=arguments.length,i=new Array(l),c=0;c<l;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).handleAddClick=function(t){e.context.history.push("/".concat(t,"/add"))},e.cards=$.patterns.map((function(t){return r.a.createElement("div",{className:"flex-item",onClick:function(){e.context.history.push("/pattern/".concat(t.id))}},t.name,r.a.createElement("img",{src:a(53),alt:"placeholder"}),r.a.createElement("div",null,t.contributor),r.a.createElement("div",null,"Favorites"))})),e}return Object(s.a)(n,[{key:"render",value:function(){return r.a.createElement("section",{className:"PatternCard flex-container"},r.a.createElement("div",{className:"flex-container"},this.cards))}}]),n}(n.Component);oe.contextType=p;var se=oe,ue=function(e){Object(u.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(o.a)(this,n);for(var l=arguments.length,i=new Array(l),c=0;c<l;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).cards=$.patterns.map((function(t){return r.a.createElement("div",{className:"flex-item",onClick:function(){e.context.history.push("/pattern/".concat(t.id))}},t.name,r.a.createElement("img",{src:a(53),alt:"placeholder"}),r.a.createElement("div",null,t.contributor),r.a.createElement("div",null,"Favorites"))})),e}return Object(s.a)(n,[{key:"render",value:function(){return r.a.createElement("section",{className:"PatternCard flex-container"},r.a.createElement("div",{className:"flex-container"},this.cards))}}]),n}(n.Component);ue.contextType=p;var me=ue,de=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).handleAddClick=function(t){e.context.history.push("/".concat(t,"/add"))},e}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement("section",{className:"home"},r.a.createElement("div",{className:"container"},r.a.createElement(V.d,null,r.a.createElement(V.b,null,r.a.createElement(V.a,null,"Favorites"),r.a.createElement(V.a,null,"Contributions"),r.a.createElement(V.a,null,"Account Info")),r.a.createElement(V.c,{className:"favorites tab"},r.a.createElement("h2",null,"Favorites "),r.a.createElement(se,{uid:"".concat(this.props.match.params.uid)})),r.a.createElement(V.c,{className:"contributions tab"},r.a.createElement("h2",null,"Contributions"),r.a.createElement(V.d,null,r.a.createElement(V.b,null,r.a.createElement(V.a,null,"Contributed Patterns"),r.a.createElement(V.a,null,"Add New Pattern"),r.a.createElement(V.a,null,"Edit Patterns")),r.a.createElement(V.c,null,r.a.createElement(me,null)),r.a.createElement(V.c,null,r.a.createElement(ce,{uid:"".concat(this.props.match.params.uid)})),r.a.createElement(V.c,null,"Edit Patterns",r.a.createElement(te,null)))),r.a.createElement(V.c,null,r.a.createElement("h2",null,"Account Information"),r.a.createElement("div",null,"Name:"),r.a.createElement("div",null,"Email Address:"),r.a.createElement(M,null),r.a.createElement(re,null)))))}}]),a}(n.Component);de.contextType=p;var pe=de,he=a(37);a(138);function fe(e){var t=e.className,a=e.list,n=Object(he.a)(e,["className","list"]),l=["Section",a&&"Section--list",t].filter(Boolean).join(" ");return r.a.createElement("section",Object.assign({className:l},n))}var be=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement(fe,{className:"NotFoundPage"},r.a.createElement("h2",null,"404 - Page not found"),r.a.createElement("p",null,"Try going back to your previous page."))}}]),a}(n.Component),ge=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,"Edit Pattern"),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",{className:"form-space"},r.a.createElement("label",{htmlFor:"name",className:"pattern-add"},"Pattern Name:"),r.a.createElement("input",{type:"text",name:"name",id:"name",onChange:this.handleChange,placeholder:"Pattern Name",required:!0})),r.a.createElement("div",{className:"form-space"},r.a.createElement("label",{htmlFor:"description",className:"pattern-add"},"Description"),r.a.createElement("br",null),r.a.createElement("textarea",{type:"text",className:"description-textarea",name:"description",id:"description",onChange:this.handleChange,placeholder:"Description",required:!0})),r.a.createElement("div",{className:"form-space"},r.a.createElement("label",{htmlFor:"craft",className:"pattern-add"},"Craft"),r.a.createElement("input",{type:"text",name:"craft",id:"craft",onChange:this.handleChange,placeholder:"Craft",required:!0})),r.a.createElement("div",{className:"form-space"},r.a.createElement("label",{htmlFor:"yarn-weight",className:"pattern-add"},"Yarn Weight"),r.a.createElement("input",{type:"text",name:"yarn-weight",id:"yarn-weight",onChange:this.handleChange,placeholder:"Yarn Weight",required:!0})),r.a.createElement("div",{className:"form-space"},r.a.createElement("label",{htmlFor:"needle-size"},"Needle Size"),r.a.createElement("input",{type:"text",name:"needle-size",id:"needle-size",onChange:this.handleChange,placeholder:"Needle Size",required:!0})),r.a.createElement("div",{className:"form-space add-img-form"},r.a.createElement("label",{htmlFor:"image",className:"pattern-add"},"Image:"),r.a.createElement("input",{type:"file",name:"images",id:"images",onChange:this.handleImageChange})),r.a.createElement("div",{className:"form-space add-file-form"},r.a.createElement("label",{htmlFor:"image"},"PDF file"),r.a.createElement("input",{type:"file",name:"patterndirections",id:"image",onChange:this.handleFileChange})),r.a.createElement("button",{type:"submit",value:"submit"},"Publish Pattern")))}}]),a}(n.Component);ge.contextType=p;var Ee=ge,ve=r.a.createContext(null),_e=function(e){var t=function(t){Object(u.a)(n,t);var a=Object(m.a)(n);function n(e){var t;return Object(o.a)(this,n),(t=a.call(this,e)).state={authUser:null},t}return Object(s.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.listener=this.props.firebase.onAuthUserListener((function(t){e.setState({authUser:t})}),(function(){e.setState({authUser:null})}))}},{key:"componentWillUnmount",value:function(){this.listener()}},{key:"render",value:function(){return r.a.createElement(ve.Provider,{value:this.state.authUser},r.a.createElement(e,this.props))}}]),n}(r.a.Component);return g(t)},ye=function(e){return function(t){var a=function(a){Object(u.a)(l,a);var n=Object(m.a)(l);function l(){return Object(o.a)(this,l),n.apply(this,arguments)}return Object(s.a)(l,[{key:"componentDidMount",value:function(){var t=this;this.listener=this.props.firebase.onAuthUserListener((function(a){e(a)||t.props.history.push("/signin")}),(function(){return t.props.history.push("/signin")}))}},{key:"componentWillUnmount",value:function(){this.listener()}},{key:"render",value:function(){var a=this;return r.a.createElement(ve.Consumer,null,(function(n){return e(n)?r.a.createElement(t,a.props):null}))}}]),l}(r.a.Component);return Object(U.a)(d.f,g)(a)}},Oe=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={loading:!1,users:[]},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.setState({loading:!0}),this.props.firebase.users().on("value",(function(t){var a=t.val(),n=Object.keys(a).map((function(e){return Object(v.a)(Object(v.a)({},a[e]),{},{uid:e})}));e.setState({users:n,loading:!1})}))}},{key:"componentWillUnmount",value:function(){this.props.firebase.users().off()}},{key:"render",value:function(){var e=this.state,t=e.users,a=e.loading;return console.log(t,"users"),r.a.createElement("div",null,r.a.createElement("h1",null,"Admin"),r.a.createElement("p",null,"The admin page is accessible by every signed in admin user."),a&&r.a.createElement("div",null," Loading ..."),r.a.createElement(Ce,{users:t}))}}]),a}(n.Component),Ce=function(e){var t=e.users;return r.a.createElement("ul",null,t.map((function(e){return r.a.createElement("li",{key:e.uid},r.a.createElement("span",null,r.a.createElement("strong",null,"ID:"),e.uid),r.a.createElement("span",null,r.a.createElement("strong",null,"E-Mail:"),e.email),r.a.createElement("span",null,r.a.createElement("strong",null,"Username:"),e.username))})))},we=Object(U.a)(ye((function(e){return e&&!!e.roles.ADMIN})),g)(Oe),je=g((function(e){var t=e.firebase;return r.a.createElement("button",{type:"button",onClick:t.doSignOut},"Sign Out")})),Ne=function(e){var t=e.authUser;return r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(c.b,{to:"/"},"Landing")),r.a.createElement("li",null,r.a.createElement(c.b,{to:"/home"},"Home")),r.a.createElement("li",null,r.a.createElement(c.b,{to:"/account/"+"".concat(t.uid)},"Account")),!!t.roles.ADMIN&&r.a.createElement("li",null,r.a.createElement(c.b,{to:"/admin"},"Admin")),r.a.createElement("li",null,r.a.createElement(je,null)))},Se=function(){return r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(c.b,{to:"/"},"Landing")),r.a.createElement("li",null,r.a.createElement(c.b,{to:"/signin"},"Sign In")))},ke=function(){return r.a.createElement("div",null,r.a.createElement(ve.Consumer,null,(function(e){return e?r.a.createElement(Ne,{authUser:e}):r.a.createElement(Se,null)})))},Pe=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={},n}return Object(s.a)(a,[{key:"render",value:function(){var e={history:this.props.history};return r.a.createElement(r.a.Fragment,null,r.a.createElement(p.Provider,{value:e},r.a.createElement("main",{className:"app"},r.a.createElement(Q,null),r.a.createElement(ke,null),r.a.createElement("hr",null),r.a.createElement(d.c,null,r.a.createElement(d.a,{exact:!0,path:"/",component:f}),r.a.createElement(d.a,{exact:!0,path:"/",component:f}),r.a.createElement(d.a,{exact:!0,path:"/signup",component:I}),r.a.createElement(d.a,{exact:!0,path:"/signin",component:B}),r.a.createElement(d.a,{exact:!0,path:"/pw-forget",component:W}),r.a.createElement(d.a,{exact:!0,path:"/home",component:S}),r.a.createElement(d.a,{path:"/patterns/:uid",component:X}),r.a.createElement(d.a,{exact:!0,path:"/account/:uid",component:pe}),r.a.createElement(d.a,{exact:!0,path:"/account/:uid/add",component:pe}),r.a.createElement(d.a,{exact:!0,path:"/account/:user/:pattern_id/edit",component:Ee}),r.a.createElement(d.a,{exact:!0,path:"/account/:uid/favorites",component:pe}),r.a.createElement(d.a,{path:"/admin",component:we}),"}",r.a.createElement(d.a,{component:be})))))}}]),a}(n.Component),xe=Object(d.f)(_e(Pe));a(139);i.a.render(r.a.createElement(E.Provider,{value:new C},r.a.createElement(c.a,null,r.a.createElement(xe,null))),document.getElementById("root"))},35:function(e,t){e.exports={users:[{id:1,name:"name1",username:"user1",password:"password1",admin:"true"},{id:2,username:"user2",password:"password2",admin:"false"},{id:3,username:"user3",password:"password3",admin:"false"}],followers:[{id:1,user_id:1,following:2},{id:2,user_id:1,following:3},{id:1,user_id:2,following:3}],comments:[{id:1,author:1,pattern_id:1},{id:2,author:2,pattern_id:1},{id:3,author:3,pattern_id:1}],contributions:[{id:1,contributor:1,pattern_id:1},{id:2,contributor:1,pattern_id:2},{id:3,contributor:2,pattern_id:3}],favorites:[{id:1,contributor:1,favorited_by:2,pattern_id:1},{id:2,contributor:1,favorited_by:2,pattern_id:2},{id:3,contributor:2,favorited_by:3,pattern_id:3}],purchases:[{id:null,pattern_id:null,user_id:null,date:null,method:null}],patterns:[{id:1,contributor:1,name:"Pattern1",description:"description1",craft:"knit",yarn_weight:"worsted",needle_size:"US 8 - 5mm",pdf_file_link:"https://twistedknit.s3-us-west-1.amazonaws.com/DemoPDF.pdf",image:"placeholder-img.svg",price:"free"},{id:2,contributor:1,name:"Pattern2",description:"description2",craft:"crochet",yarn_weight:"worsted",needle_size:"US 8 - 5mm",pdf_file_link:"https://twistedknit.s3-us-west-1.amazonaws.com/DemoPDF.pdf",image:"placeholder-img.svg",price:"free"},{id:3,contributor:2,name:"Pattern3",description:"description3",craft:"crochet",yarn_weight:"worsted",needle_size:"US 8 - 5mm",pdf_file_link:"https://twistedknit.s3-us-west-1.amazonaws.com/DemoPDF.pdf",image:"placeholder-img.svg",price:"free"}]}},42:function(e,t){function a(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}a.keys=function(){return[]},a.resolve=a,e.exports=a,a.id=42},53:function(e,t,a){e.exports=a.p+"static/media/placeholder-img.5daa4363.svg"},73:function(e,t,a){e.exports=a(140)},86:function(e,t,a){e.exports=a.p+"static/media/unfav.502b2a4d.svg"},87:function(e,t,a){e.exports=a.p+"static/media/fav.e66361f9.svg"},91:function(e,t){},93:function(e,t){},94:function(e,t){},95:function(e,t){},96:function(e,t){}},[[73,1,2]]]);
//# sourceMappingURL=main.4126d6f2.chunk.js.map